@model EShop.Domain.DomainModels.Ticket

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Details</h1>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card">
                <img class="card-img-top" src="@Model.Image" alt="Movie Image">
                <div class="card-body">
                    <h4 class="card-title">@Html.DisplayFor(model => model.MovieName)</h4>
                    <p class="card-text"><strong>Genre:</strong> @Html.DisplayFor(model => model.Genre)</p>
                    <p class="card-text"><strong>Description:</strong> @Html.DisplayFor(model => model.Description)</p>
                    <p class="card-text"><strong>Date:</strong> @Html.DisplayFor(model => model.Date)</p>
                    <p class="card-text"><strong>Price:</strong> @Html.DisplayFor(model => model.Price)</p>
                    <p class="card-text"><strong>Rating:</strong> @Html.Raw(GetStarRating(Model.Rating))</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="button-group">
    <a class="btn btn-primary" asp-action="Edit" asp-route-id="@Model.Id">Edit</a>
    <a class="btn btn-secondary" asp-action="Index">Back to List</a>
</div>

<style>
    .card {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease-in-out;
        margin: 20px;
    }

    .card-img-top {
        height: 200px;
        object-fit: cover;
    }

    .star-rating {
        color: #FFD700;
    }

    .button-group {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
    }

        .button-group a {
            margin-right: 10px;
        }
</style>

@functions {
    public string GetStarRating(double rating)
    {
        int roundedRating = (int)Math.Round(rating);
        string stars = string.Empty;

        for (int i = 0; i < roundedRating; i++)
        {
            stars += "<span class='star-rating'>&#9733;</span>"; // Full star
        }

        for (int i = roundedRating; i < 5; i++)
        {
            stars += "<span class='star-rating'>&#9734;</span>"; // Empty star
        }

        return stars;
    }
}
